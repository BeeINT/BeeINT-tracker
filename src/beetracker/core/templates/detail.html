{% extends "root.html" %}


{% block "head_block" %}
        <link rel="stylesheet" href="/static/detail.css"media="screen">
        <script src="/static/raphael.js"></script>
        <script src="/static/jquery.js"></script>
        <script src="/static/detail.js"></script>
{% endblock "head_block" %}
    


{% block "content" %}

<div class="container">

		<div class="page-header">
		  <h1>{{apiary}} <small>Apiary</small></h1>
		</div>

<h2>Mapinformations</h2>
		

		{% for mapinfo in mapinfos%}
			<h3>{{mapinfo.tag_key}} - {{mapinfo.tag_value}}</h3>
			<br/>
			{% for chart in mapinfo.charts%}
			<div class="chart" style="padding-right: 30px">	
			
				<h4>{{ chart.name }}</h4>
			
				<ul class="list-group" id="table_{{ chart.id }}">
				  {% for pi,va in chart.data.items %}
				  <li class="list-group-item">
				    <span class="badge">{{va}}</span>
				    <span class="text">{{pi}}</span>
				  </li>
				  {% endfor %}
				</ul>


				<div id="chart_{{ chart.id }}"></div>


				<script>
					$(function () {
						var values = [],
				        labels = [];
					    $("#table_{{ chart.id }} li").each(function () {
					        values.push(parseInt($(".badge", this).text(), 10));
					        labels.push($(".text", this).text());
					    });

			            Raphael("chart_{{ chart.id }}", 500, 500).pieChart(250, 250, 150, values, labels, "#ffffff");
				      });
				</script>
			</div>
			{% endfor %}
			
		{% endfor %}






		<div style="clear: both"/>
<div>
		<h2>Hives</h2>
		




		{% for placement in apiary.placement.all %}
	
			<h3>{{placement.hive.identifier}}</h3>
			    {{placement.hive.comment}}

		{% endfor %}

</div>




</div>

{% endblock "content" %}
